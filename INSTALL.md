Инсталляция и работа скриптов WEB1M2PHP
=======================================



## Кратко

Набор PHP-скриптов WEB1M2PHP предназначен для работы небольших несложных сайтов в стиле WEB-1 на десяток другой страничек, где странички созданы с помощью простого языка разметки Markdown.

В набор входят непосредственно два скрипта: `index.php` и `markdown.php`. Они являются модификациями скриптов [Markdown Viewer PHP ][1]Нейла Свинея и [PHP Markdown][2] Мишеля Фортина соответственно. (Подробнее смотрите в [*«Лицензии»*](LICENSE.md)).


## Создание сайта

Предполагается, что хостинг для сайта с необходимыми требованиями (см. ниже *«Требования к хостингу»*) уже есть. Чтобы создать сайт, необходимо произвести следующие несложные действия:

* скачать скрипты [WEB1M2PHP][3] и распаковать;
* создать в текстовом редакторе необходимые страницы сайта в разметке [«Маркдаун»][4], сохраняя их с расширениями «md» или «MD» (см. раздел *«Особенности преобразования «Маркдаун»»*);
* отредактировать несколько переменных в файле `index.php` (подробнее ниже в разделе *«Редактирование переменных»*);
* загрузить скрипты `index.php` и `markdown.php` в рабочий каталоге сайта вместе с файлами «Маркдаун»;
* сайт готов.


## Требования к хостингу

Хостинг должен поддерживать PHP 5.2+.

Необходимо настроить на веб-сервере по умолчанию вывод страницы `index.php`. (Обычно это установлено по умолчанию на большинстве хостинговj


## Работа сайта, внутренние и внешние ссылки

Скрипт `index.php` является основным, а `markdown.php` — вспомогательным. Оба скрипта обеспечивают преобразование файлов в разметке «Маркдаун» в код HTML со стилями CSS.

Преобразование внутренних ссылок на файлы с расширением «md» или «MD» происходит так, что скрипт `index.php` получает в качестве аргумента к параметру ’src’ имя этого файла «Маркдаун». То есть все внутренние ссылки на файлы с расширениями «md» или «MD» преобразовываются к такому формату:

    http://www.имясайта/index.php?src=файл.md

Это преобразоавние делается только для ссылок оформленных «в строку» (inline). Например, если скрипт находит в файле «Маркдаун» внутреннюю ссылку `[Главная](START.md)`, то он преобразует её к виду

    http://www.имясайта/index.php?src=START.md

Но в «Маркдаун» есть ещё возможность оформлять ссылки в виде сноски. Например

    [Главная][1]
    ...
    [1]: START.md

Внутренние ссылки на файлы с расширением «md» или «MD» в виде сноски WEB1M2PHP не преобразовывает формату с параметром `src`, а оставляет как есть. Вполне возможно в дальнейших версиях будет работать и для ссылок в виде сносок.

Внутренние ссылки на файлы с расширениями кроме «md» или «MD» оставляются как есть. 

**Для ссылок «в строку»  на внешние сайты требуется обязательно писать ссылки с префиксом  «http», «https».**


## Редактирование переменных index.php

Откройте в тестовом редакторе файл `index.php` и установите собственные значения для переменных:

* `$site_name_and_path` — укажите доменное имя сайта (и, если index.php будет находится не в корне сайта, то — и путь к каталогу с основным скриптом);
* `$start_document` — имя файла страницы «Маркдаун», которое будет открываться по умолчанию;
* `$main_title` — основное заглавие сайта — отображается в заголовке браузера;
* `$default_page` — если меняете название файла `index.php`, то укажите новое название в этой переменной.


## Особенности преобразования «Маркдаун»

Скрипт-транслятор «Маркдаун» в HTML `markdown.php` использует базовый синтаксис «Маркдаун», — без таблиц. Это сделано намерено, чтобы не было соблазна верстать таблицами и сконцентрироваться на содержании.

Изображения отображаются в оригинальном разрешении без масштабирования. Не используйте изображения в качестве декоративных элементов — используйте только иллюстративные изображения.

![Пример картинки](image.jpg)

Так как сайты типа «визитки» небольшие — в среднем на десяток страниц, то нет большой необходимости организовывать меню сайта. Достаточно сделать содержание сайта на главной странице, а на остальных страницах создавать обязательную ссылку на эту начальную страницу сайта.


## Стили и визуальные темы

Визуальный стиль определяется стилевыми таблицами CSS, которые находятся непосредственно в скрипте `index.php`. Эти таблицы при желании можно отредактировать. В дальнейшем планируется сделать подборку из готовых визуальных тем на выбор.


[**На главную**](START.md)


[1]: https://github.com/WolfieZero/Markdown-Viewer-PHP "Markdown Viewer PHP"
[2]: http://michelf.com/projects/php-markdown/ "PHP Markdown"
[3]: http://belursus.info/markdown/w1php.md "Скачать"
[4]: http://belursus.info/markdown/sintax.md "Синтаксис Markdown"

----

2016 Михаил Астапчик










